import { baseUrl } from "@/mocks/utils";
import { http, HttpResponse } from "msw";

const firstMockSubscribe = {
  contents: [
    {
      id: 1001,
      storeId: 123,
      storeName: "맛있는 분식집",
      description:
        "신선한 재료로 만든 김밥 전문점 정말 맛있어요 아주아주아주아주아주아주아주 맛있어요. 맛없으면 정말 유감이네요 한번만 믿어주세요 ㅋㅋㅋㅋ",
      mainImageUrl: "https://example.com/image.jpg",
      foodCategory: ["김밥", "떡볶이"],
      status: "OPEN",
      discountRate: 0.1,
      originalPrice: 12000,
      discountedPrice: 10800,
      todayPickupStartTime: "09:00:00",
      todayPickupEndTime: "18:00:00",
      totalStockCount: 25,
      pickupDay: "TODAY",
      subscribedAt: "2025-01-15T10:30:00",
    },
    {
      id: 1002,
      storeId: 124,
      storeName: "건강한 샐러드 바",
      description: "신선한 샐러드와 스무디를 제공하는 곳",
      mainImageUrl: "https://example.com/image2.jpg",
      foodCategory: ["샐러드", "스무디"],
      status: "OPEN",
      discountRate: 0.15,
      originalPrice: 15000,
      discountedPrice: 12750,
      todayPickupStartTime: "10:00:00",
      todayPickupEndTime: "19:00:00",
      totalStockCount: 30,
      pickupDay: "TODAY",
      subscribedAt: "2025-01-16T11:00:00",
    },
    {
      id: 1003,
      storeId: 125,
      storeName: "정통 이탈리안 레스토랑",
      description: "이탈리아 전통 요리를 제공하는 레스토랑",
      mainImageUrl: "https://example.com/image3.jpg",
      foodCategory: ["파스타", "피자"],
      status: "OPEN",
      discountRate: 0.2,
      originalPrice: 25000,
      discountedPrice: 20000,
      todayPickupStartTime: "11:00:00",
      todayPickupEndTime: "20:00:00",
      totalStockCount: 15,
      pickupDay: "TODAY",
      subscribedAt: "2025-01-17T12:30:00",
    },
    {
      id: 1004,
      storeId: 126,
      storeName: "아시아 퓨전 레스토랑",
      description: "아시아 각국의 요리를 퓨전 스타일로 제공",
      mainImageUrl: "https://example.com/image4.jpg",
      foodCategory: ["퓨전", "아시아"],
      status: "OPEN",
      discountRate: 0.25,
      originalPrice: 30000,
      discountedPrice: 22500,
      todayPickupStartTime: "12:00:00",
      todayPickupEndTime: "21:00:00",
      totalStockCount: 20,
      pickupDay: "TODAY",
      subscribedAt: "2025-01-18T13:45:00",
    },
    {
      id: 1005,
      storeId: 127,
      storeName: "베이커리 카페",
      description: "신선한 빵과 커피를 제공하는 카페",
      mainImageUrl: "https://example.com/image5.jpg",
      foodCategory: ["빵", "커피"],
      status: "CLOSE",
      discountRate: 0.3,
      originalPrice: 8000,
      discountedPrice: 5600,
      todayPickupStartTime: "08:00:00",
      todayPickupEndTime: "17:00:00",
      totalStockCount: 50,
      pickupDay: "TODAY",
      subscribedAt: "2025-01-19T14:50:00",
    },
    {
      id: 1006,
      storeId: 128,
      storeName: "전통 한식당",
      description: "한국 전통 요리를 제공하는 한식당",
      mainImageUrl: "https://example.com/image6.jpg",
      foodCategory: ["한식", "전통"],
      status: "CLOSE",
      discountRate: 0.05,
      originalPrice: 20000,
      discountedPrice: 19000,
      todayPickupStartTime: "09:30:00",
      todayPickupEndTime: "18:30:00",
      totalStockCount: 0,
      pickupDay: "TODAY",
      subscribedAt: "2025-01-20T15:55:00",
    },
    {
      id: 1007,
      storeId: 129,
      storeName: "스페셜티 커피숍",
      description: "고급 스페셜티 커피를 제공하는 카페",
      mainImageUrl: "https://example.com/image7.jpg",
      foodCategory: ["커피", "디저트"],
      status: "CLOSE",
      discountRate: 0.12,
      originalPrice: 10000,
      discountedPrice: 8800,
      todayPickupStartTime: "07:30:00",
      todayPickupEndTime: "16:30:00",
      totalStockCount: 0,
      pickupDay: "TODAY",
      subscribedAt: "2025-01-21T16:20:00",
    },
    {
      id: 1008,
      storeId: 130,
      storeName: "프랑스식 브런치 카페",
      description: "프랑스식 브런치를 제공하는 카페",
      mainImageUrl: "https://example.com/image8.jpg",
      foodCategory: ["브런치", "프랑스"],
      status: "CLOSE",
      discountRate: 0.18,
      originalPrice: 22000,
      discountedPrice: 18040,
      todayPickupStartTime: "10:30:00",
      todayPickupEndTime: "19:30:00",
      totalStockCount: 28,
      pickupDay: "TODAY",
      subscribedAt: "2025-01-22T17:05:00",
    },
  ],
  lastId: 456,
};

const secondMockSubscribe = {
  contents: [
    {
      id: 1009,
      storeId: 131,
      storeName: "이탈리안 레스토랑",
      description: "정통 이탈리안 요리를 제공하는 레스토랑",
      mainImageUrl: "https://example.com/image9.jpg",
      foodCategory: ["파스타", "피자"],
      status: "OPEN",
      discountRate: 0.2,
      originalPrice: 25000,
      discountedPrice: 20000,
      todayPickupStartTime: "11:00:00",
      todayPickupEndTime: "20:00:00",
      totalStockCount: 15,
      pickupDay: "TODAY",
      subscribedAt: "2025-01-23T18:00:00",
    },
    {
      id: 1010,
      storeId: 132,
      storeName: "중식당",
      description: "중국 전통 요리를 제공하는 중식당",
      mainImageUrl: "https://example.com/image10.jpg",
      foodCategory: ["중식", "면"],
      status: "CLOSE",
      discountRate: 0.15,
      originalPrice: 18000,
      discountedPrice: 15300,
      todayPickupStartTime: "12:00:00",
      todayPickupEndTime: "21:00:00",
      totalStockCount: 3,
      pickupDay: "TODAY",
      subscribedAt: "2025-01-24T19:15:00",
    },
    {
      id: 1011,
      storeId: 133,
      storeName: "일식당",
      description: "신선한 해산물을 제공하는 일식당",
      mainImageUrl: "https://example.com/image11.jpg",
      foodCategory: ["일식", "초밥"],
      status: "OPEN",
      discountRate: 0.25,
      originalPrice: 30000,
      discountedPrice: 22500,
      todayPickupStartTime: "13:00:00",
      todayPickupEndTime: "22:00:00",
      totalStockCount: 2,
      pickupDay: "TODAY",
      subscribedAt: "2025-01-25T20:30:00",
    },
    {
      id: 1012,
      storeId: 134,
      storeName: "베트남 쌀국수 전문점",
      description: "정통 베트남 쌀국수를 제공하는 전문점, 신선한 재료로 만든 국수 요리",
      mainImageUrl: "https://example.com/image12.jpg",
      foodCategory: ["쌀국수", "베트남"],
      status: "OPEN",
      discountRate: 0.1,
      originalPrice: 12000,
      discountedPrice: 10800,
      todayPickupStartTime: "14:00:00",
      todayPickupEndTime: "23:00:00",
      totalStockCount: 25,
      pickupDay: "TODAY",
      subscribedAt: "2025-01-26T21:45:00",
    },
  ],
  lastId: 1012,
};

const handlers = [
  http.get(`${baseUrl}/store-subscriptions/me`, ({ request }) => {
    const url = new URL(request.url);
    const lastId = url.searchParams.get("lastId");

    const subscribes = lastId === "456" ? secondMockSubscribe : firstMockSubscribe;

    return HttpResponse.json({ success: true, data: subscribes });
  }),
];

export default handlers;
